<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/tabs/tab2"></ion-back-button>
        </ion-buttons>
        <ion-title>Edit Personal Information</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card>
        <ion-list>
            <ion-item id='img' lines='none' class="ion-no-margin">
                <input hidden="true" type="file" (change)='uploadFile($event)' accept="image/*" clear-input="true" #imgInput>
                <ion-avatar>
                    <ion-img [src]='profile.profileImage || "../../assets/img/noImage.png"' (click)="showOptions()" alt="Image"></ion-img>
                </ion-avatar>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    First Name
                </ion-label>
                <ion-input [(ngModel)]="profile.firstName" type="text" autocapitalize="on" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    Last Name
                </ion-label>
                <ion-input [(ngModel)]="profile.lastName" type="text" autocapitalize="on" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    Email
                </ion-label>
                <ion-input [(ngModel)]="profile.email" type="text" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    Phone Number
                </ion-label>
                <ion-input [(ngModel)]="profile.phoneNumber" type="text" (ionFocus)="phoneEx('phoneNumber')" (ionBlur)="checkChanges('phoneNumber')" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    Cellphone Number
                </ion-label>
                <ion-input [(ngModel)]="profile.cellphoneNumber" type="text" (ionFocus)="phoneEx('cellphoneNumber')" (ionBlur)="checkChanges('cellphoneNumber')" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    Address
                </ion-label>
                <ion-input [(ngModel)]="profile.address" type="text" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    City
                </ion-label>
                <ion-input [(ngModel)]="profile.city" type="text" clear-input="true"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label>State</ion-label>
                <ion-select [(ngModel)]="profile.state" value="">
                    <ion-select-option *ngFor="let state of states" value="{{state}}">{{state}}</ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label position="floating">
                    Zip Code
                </ion-label>
                <ion-input [(ngModel)]="profile.zipCode" type="text" clear-input="true"></ion-input>
            </ion-item>
        </ion-list>
    </ion-card>
    <ion-item lines='none'>
        <ion-button block color="primary" style="margin: auto;" type="submit" (click)="saveChanges()">
            Save changes
        </ion-button>
    </ion-item>
</ion-content>