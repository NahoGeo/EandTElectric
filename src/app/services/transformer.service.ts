import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class TransformerService {

  constructor() {}

  private threePhaseData = [
    {
      voltage: '208V',
      data: {
        KAV: ['3','9','15','20','25','30','37.5','45','75','100','112.5','150','225','300','500','750'],
        amperes: ['8.33','25.0','41.6','55.5','69.4','83.3','104','125','208','278','312','416','625','833','1388','2082']
      }
    },
    {
      voltage: '240V',
      data: {
        KAV: ['3','9','15','20','25','30','37.5','45','75','100','112.5','150','225','300','500','750'],
        amperes: ['7.22','21.7','36.1','48.1','60.1','72.2','90.2','108','180','241','271','361','541','722','1203','1804']
      }
    },
    {
      voltage: '480V',
      data: {
        KAV: ['3','9','15','20','25','30','37.5','45','75','100','112.5','150','225','300','500','750'],
        amperes: ['3.61','10.8','18.0','24.1','30.1','36.1','45.1','54.1','90.2','120','135','180','271','361','601','902']
      }
    },
    {
      voltage: '600V',
      data: {
        KAV: ['3','9','15','20','25','30','37.5','45','75','100','112.5','150','225','300','500','750'],
        amperes: ['2.89','8.66','14.4','19.2','24.1','28.9','36.1','43.3','72.2','96.2','108','144','217','289','481','722']
      }
    }
  ]

  private singlePhaseData = [
    {
      voltage: '120V',
      data: {
        KAV: ['0.75','1','1.5','2','3','5','7.5','10','15','25','37.5','50','75','100','167','250'],
        amperes: ['6.25','8.33','12.5','16.7','25.0','41.6','62.5','83.3','125','208','313','417','625','833','1392','2083']
      }
    },
    {
      voltage: '240V',
      data: {
        KAV: ['0.75','1','1.5','2','3','5','7.5','10','15','25','37.5','50','75','100','167','250'],
        amperes: ['3.13','4.17','6.25','8.33','12.5','20.8','31.3','41.7','62.5','104','156','208','313','417','696','1042']
      }
    },
    {
      voltage: '600V',
      data: {
        KAV: ['0.75','1','1.5','2','3','5','7.5','10','15','25','37.5','50','75','100','167','250'],
        amperes: ['1.25','1.67','2.50','3.33','5.00','8.33','12.5','16.7','25.0','41.7','62.5','83.3','125','167','278','417']
      }
    }
  ]

  getVoltages(phase: string) {
    let voltages = []

    if(phase === 'three') {
      this.threePhaseData.forEach(data => {
        voltages.push(data.voltage)
      });
    }
    if(phase === 'single') {
      this.singlePhaseData.forEach(data => {
        voltages.push(data.voltage)
      });
    }

    return voltages
  }

  getData(phase: string, voltage: string) {
    let data = {}

    if(phase === 'three') {
      this.threePhaseData.forEach(value => {
        if(value.voltage === voltage) {
          data = value.data
        }
      });
    }
    if(phase === 'single') {
      this.singlePhaseData.forEach(value => {
        if(value.voltage === voltage) {
          data = value.data
        }
      });
    }
    
    return data
  }
}

